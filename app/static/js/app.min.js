document.addEventListener("DOMContentLoaded",function(){var defaultTab=document.getElementById("defaultOpen");if(defaultTab){defaultTab.click()}else{var firstTab=document.querySelector(".tablink");if(firstTab){firstTab.click()}}
var defaultInnerTab=document.querySelector(".innertabcontent");if(defaultInnerTab){defaultInnerTab.classList.add("active");defaultInnerTab.style.display="block";var innerTabId=defaultInnerTab.id;var innerTabBtn=document.querySelector(`.tablink[onclick*="${innerTabId}"]`);if(innerTabBtn){innerTabBtn.classList.add("active")}}});function resizeCharts(){console.log("Resizing charts");if(window.Plotly){var plots=document.querySelectorAll('.js-plotly-plot');for(var i=0;i<plots.length;i++){window.Plotly.Plots.resize(plots[i])}}
if(window.HTMLWidgets&&window.HTMLWidgets.staticRender){window.HTMLWidgets.staticRender()}
if(window.dispatchEvent){window.dispatchEvent(new Event('resize'))}}
function openTab(evt,tabName){console.log("Opening tab:",tabName);var tabcontent=document.getElementsByClassName("tabcontent");for(var i=0;i<tabcontent.length;i++){tabcontent[i].style.display="none";tabcontent[i].classList.remove("active")}
var tablinks=document.getElementsByClassName("tablink");for(var i=0;i<tablinks.length;i++){tablinks[i].classList.remove("active")}
var currentTab=document.getElementById(tabName);if(currentTab){currentTab.style.display="block";currentTab.classList.add("active");evt.currentTarget.classList.add("active");if(window.Shiny&&window.Shiny.unbindAll&&window.Shiny.bindAll){window.Shiny.unbindAll(currentTab);window.Shiny.bindAll(currentTab)}
var chartContainers=currentTab.querySelectorAll(".card-body");for(var i=0;i<chartContainers.length;i++){chartContainers[i].style.display="block";chartContainers[i].style.visibility="visible"}
var shinyOutputs=currentTab.querySelectorAll(".shiny-plot-output, .html-widget-output");for(var i=0;i<shinyOutputs.length;i++){shinyOutputs[i].style.display="block";shinyOutputs[i].style.visibility="visible"}
setTimeout(function(){resizeCharts()},300)}}
function openInnerTab(evt,tabName){console.log("Opening inner tab:",tabName);var parentTab=evt.currentTarget.closest(".tabcontent");if(!parentTab)return;var innerTabs=parentTab.getElementsByClassName("innertabcontent");for(var i=0;i<innerTabs.length;i++){innerTabs[i].style.display="none";innerTabs[i].classList.remove("active")}
var tablinks=parentTab.querySelectorAll(".tabset .tablink");for(var i=0;i<tablinks.length;i++){tablinks[i].classList.remove("active")}
var currentInnerTab=document.getElementById(tabName);if(currentInnerTab){currentInnerTab.style.display="block";currentInnerTab.classList.add("active");evt.currentTarget.classList.add("active");var shinyOutputs=currentInnerTab.querySelectorAll(".shiny-plot-output, .html-widget-output");for(var i=0;i<shinyOutputs.length;i++){shinyOutputs[i].style.display="block";shinyOutputs[i].style.visibility="visible"}
setTimeout(function(){resizeCharts()},300)}}
function toggleSidebar(){const sidebar=document.querySelector('.sidebar');const sidebarToggleIcon=document.getElementById("sidebarToggleIcon");sidebar.classList.add('sidebar-collapsed');sidebarToggleIcon.classList.remove("fa-bars");sidebarToggleIcon.classList.add("fa-bars");setTimeout(function(){resizeCharts()},300)}
function openSidebar(){const sidebar=document.querySelector('.sidebar');const sidebarToggleIcon=document.getElementById("sidebarToggleIcon");sidebar.classList.remove('sidebar-collapsed');sidebarToggleIcon.classList.remove("fa-bars");sidebarToggleIcon.classList.add("fa-bars")}
const observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.addedNodes&&mutation.addedNodes.length>0){for(var i=0;i<mutation.addedNodes.length;i++){var node=mutation.addedNodes[i];if(node.classList&&(node.classList.contains('shiny-plot-output')||node.classList.contains('html-widget-output'))){console.log("New Shiny output detected:",node);var parentTab=node.closest('.tabcontent');if(parentTab&&parentTab.classList.contains('active')){node.style.display="block";node.style.visibility="visible";setTimeout(function(){resizeCharts()},300)}}}}})});observer.observe(document.body,{childList:!0,subtree:!0})
function toggleFullscreen(){var button=event.currentTarget;var card=button.closest('.card');if(!card)return;card.classList.toggle('expanded');if(!document.fullscreenElement){if(card.requestFullscreen){card.requestFullscreen()}else if(card.mozRequestFullScreen){card.mozRequestFullScreen()}else if(card.webkitRequestFullscreen){card.webkitRequestFullscreen()}else if(card.msRequestFullscreen){card.msRequestFullscreen()}}else{if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}}}